<!--
WARNING:
This file was autogenerated from the XML source file
../../modules/carrierroute/doc/kamailio-carrierroute.xml.
It can be regenerated by running 'make dbdoc' in the db/schema
directory of the source code. You need to have xsltproc and
docbook-xsl stylesheets installed.
ALL CHANGES DONE HERE WILL BE LOST IF THE FILE IS REGENERATED
-->

<chapter>
  <title>Module parameter for database access.</title>
  <section>
    <title><varname>db_url</varname> (String)</title>
    <para>URL to the database containing the data.</para>
    <para>
      <emphasis>Default value is <quote>mysql://openserro:openserro@localhost/openser</quote>.</emphasis>
    </para>
    <example>
      <title>Set <varname>db_url</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "db_url", "dbdriver://username:password@dbhost/dbname")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_table</varname> (String)</title>
    <para>Name of the carrierroute table for the carrierroute module.</para>
    <para>
      <emphasis>Default value is <quote>carrierroute</quote>.</emphasis>
    </para>
    <example>
      <title>Set <varname>carrierroute_table</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_table", "carrierroute")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_id_col</varname> (string)</title>
    <para>unique ID</para>
    <example>
      <title>Set <varname>carrierroute_id_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_id_col", "id")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_carrier_col</varname> (string)</title>
    <para>This column contains the carrier id.</para>
    <example>
      <title>Set <varname>carrierroute_carrier_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_carrier_col", "carrier")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_domain_col</varname> (string)</title>
    <para>This column contains the route domain. Additional domains could be used for example as fallback.</para>
    <example>
      <title>Set <varname>carrierroute_domain_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_domain_col", "domain")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_scan_prefix_col</varname> (string)</title>
    <para>This column contains the scan prefix, which define the matching portion of a phone number.</para>
    <example>
      <title>Set <varname>carrierroute_scan_prefix_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_scan_prefix_col", "scan_prefix")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_flags_col</varname> (string)</title>
    <para>This column contains the flags used for rule matching.</para>
    <example>
      <title>Set <varname>carrierroute_flags_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_flags_col", "flags")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_mask_col</varname> (string)</title>
    <para>This column contains the mask that is applied to the message flags before rule matching.</para>
    <example>
      <title>Set <varname>carrierroute_mask_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_mask_col", "mask")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_prob_col</varname> (string)</title>
    <para>Name of column containing the probability. The probability value is used to distribute the traffic between several gateways.</para>
    <example>
      <title>Set <varname>carrierroute_prob_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_prob_col", "prob")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_strip_col</varname> (string)</title>
    <para>Name of the column containing the number of digits to be stripped of the userpart of an URI before prepending rewrite_prefix.</para>
    <example>
      <title>Set <varname>carrierroute_strip_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_strip_col", "strip")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_rewrite_host_col</varname> (string)</title>
    <para>Name of column containing rewrite prefixes. Here you can define a rewrite prefix for the localpart of the SIP URI.</para>
    <example>
      <title>Set <varname>carrierroute_rewrite_host_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_rewrite_host_col", "rewrite_host")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_rewrite_prefix_col</varname> (string)</title>
    <para>Rewrite prefix for the localpart of the SIP URI.</para>
    <example>
      <title>Set <varname>carrierroute_rewrite_prefix_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_rewrite_prefix_col", "rewrite_prefix")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_rewrite_suffix_col</varname> (string)</title>
    <para>Rewrite suffix for the localpart of the SIP URI.</para>
    <example>
      <title>Set <varname>carrierroute_rewrite_suffix_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_rewrite_suffix_col", "rewrite_suffix")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierroute_description_col</varname> (string)</title>
    <para>A comment for the route entry, useful for larger routing tables.</para>
    <example>
      <title>Set <varname>carrierroute_description_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierroute_description_col", "description")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_table</varname> (String)</title>
    <para>Name of the carrierfailureroute table for the carrierroute module.</para>
    <para>
      <emphasis>Default value is <quote>carrierfailureroute</quote>.</emphasis>
    </para>
    <example>
      <title>Set <varname>carrierfailureroute_table</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_table", "carrierfailureroute")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_id_col</varname> (string)</title>
    <para>unique ID</para>
    <example>
      <title>Set <varname>carrierfailureroute_id_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_id_col", "id")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_carrier_col</varname> (string)</title>
    <para>This column contains the carrier id.</para>
    <example>
      <title>Set <varname>carrierfailureroute_carrier_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_carrier_col", "carrier")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_domain_col</varname> (string)</title>
    <para>This column contains the route domain. Additional domains could be used for example as fallback.</para>
    <example>
      <title>Set <varname>carrierfailureroute_domain_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_domain_col", "domain")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_scan_prefix_col</varname> (string)</title>
    <para>This column contains the scan prefix, which define the matching portion of a phone number.</para>
    <example>
      <title>Set <varname>carrierfailureroute_scan_prefix_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_scan_prefix_col", "scan_prefix")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_host_name_col</varname> (string)</title>
    <para>This column contains the routing destination used for rule matching.</para>
    <example>
      <title>Set <varname>carrierfailureroute_host_name_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_host_name_col", "host_name")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_reply_code_col</varname> (string)</title>
    <para>This column contains the reply code used for rule matching.</para>
    <example>
      <title>Set <varname>carrierfailureroute_reply_code_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_reply_code_col", "reply_code")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_flags_col</varname> (string)</title>
    <para>This column contains the flags used for rule matching.</para>
    <example>
      <title>Set <varname>carrierfailureroute_flags_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_flags_col", "flags")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_mask_col</varname> (string)</title>
    <para>This column contains the mask that is applied to the message flags before rule matching.</para>
    <example>
      <title>Set <varname>carrierfailureroute_mask_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_mask_col", "mask")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_next_domain_col</varname> (string)</title>
    <para>This column contains the route domain that should be used for the next routing attempt.</para>
    <example>
      <title>Set <varname>carrierfailureroute_next_domain_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_next_domain_col", "next_domain")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>carrierfailureroute_description_col</varname> (string)</title>
    <para>A comment for the route entry, useful for larger routing tables.</para>
    <example>
      <title>Set <varname>carrierfailureroute_description_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "carrierfailureroute_description_col", "description")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>route_tree_table</varname> (String)</title>
    <para>Name of the route_tree table for the carrierroute module.</para>
    <para>
      <emphasis>Default value is <quote>route_tree</quote>.</emphasis>
    </para>
    <example>
      <title>Set <varname>route_tree_table</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "route_tree_table", "route_tree")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>route_tree_id_col</varname> (string)</title>
    <para>unique ID</para>
    <example>
      <title>Set <varname>route_tree_id_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "route_tree_id_col", "id")
...
</programlisting>
    </example>
  </section>
  <section>
    <title><varname>route_tree_carrier_col</varname> (string)</title>
    <para>This column contains the carrier name.</para>
    <example>
      <title>Set <varname>route_tree_carrier_col</varname> parameter</title>
      <programlisting format="linespecific">
...
modparam("carrierroute", "route_tree_carrier_col", "carrier")
...
</programlisting>
    </example>
  </section>
</chapter>
